<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 4 Outlier detection in the aggregated level | Fishery: Trade Module</title>
  <meta name="description" content="Fisheries Trade Documentation">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 4 Outlier detection in the aggregated level | Fishery: Trade Module" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Fisheries Trade Documentation" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Outlier detection in the aggregated level | Fishery: Trade Module" />
  
  <meta name="twitter:description" content="Fisheries Trade Documentation" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data.html">
<link rel="next" href="correction-of-main-outlier.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.5/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="ess.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="sec-intro.html"><a href="sec-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="sec-workflow.html"><a href="sec-workflow.html"><i class="fa fa-check"></i><b>2</b> Trade data Workflow</a><ul>
<li class="chapter" data-level="2.1" data-path="sec-workflow.html"><a href="sec-workflow.html#get-started-data"><i class="fa fa-check"></i><b>2.1</b> Get started data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a></li>
<li class="chapter" data-level="4" data-path="outlier-detection-in-the-aggregated-level.html"><a href="outlier-detection-in-the-aggregated-level.html"><i class="fa fa-check"></i><b>4</b> Outlier detection in the aggregated level</a><ul>
<li class="chapter" data-level="4.1" data-path="outlier-detection-in-the-aggregated-level.html"><a href="outlier-detection-in-the-aggregated-level.html#boxplot"><i class="fa fa-check"></i><b>4.1</b> Boxplot</a><ul>
<li class="chapter" data-level="4.1.1" data-path="outlier-detection-in-the-aggregated-level.html"><a href="outlier-detection-in-the-aggregated-level.html#example"><i class="fa fa-check"></i><b>4.1.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="outlier-detection-in-the-aggregated-level.html"><a href="outlier-detection-in-the-aggregated-level.html#median-absolute-deviation-mad"><i class="fa fa-check"></i><b>4.2</b> Median Absolute Deviation (MAD)</a><ul>
<li class="chapter" data-level="4.2.1" data-path="outlier-detection-in-the-aggregated-level.html"><a href="outlier-detection-in-the-aggregated-level.html#example-1"><i class="fa fa-check"></i><b>4.2.1</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="correction-of-main-outlier.html"><a href="correction-of-main-outlier.html"><i class="fa fa-check"></i><b>5</b> Correction of main outlier</a><ul>
<li class="chapter" data-level="5.1" data-path="correction-of-main-outlier.html"><a href="correction-of-main-outlier.html#locally-estimated-scatterplot-smoothing-loess"><i class="fa fa-check"></i><b>5.1</b> Locally Estimated Scatterplot Smoothing (LOESS)</a><ul>
<li class="chapter" data-level="5.1.1" data-path="correction-of-main-outlier.html"><a href="correction-of-main-outlier.html#example-2"><i class="fa fa-check"></i><b>5.1.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="correction-of-main-outlier.html"><a href="correction-of-main-outlier.html#median-weighted-average"><i class="fa fa-check"></i><b>5.2</b> Median weighted average</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Fishery: Trade Module</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="outlier-detection-in-the-aggregated-level" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Outlier detection in the aggregated level</h1>
<p>TODO</p>
<div id="boxplot" class="section level2">
<h2><span class="header-section-number">4.1</span> Boxplot</h2>
<p>One of the methods to try figured out outlier in the aggregated data is the boxplot rule.</p>
<ol style="list-style-type: decimal">
<li>Set the coefficient <span class="math inline">\(k\)</span>, for instance <span class="math inline">\(k = 5\)</span>.</li>
<li>Compute the percentiles: 25% (<span class="math inline">\(Q_1\)</span>), and 75% (<span class="math inline">\(Q_3\)</span>).</li>
<li>Compute the interquartile range (IQR): <span class="math inline">\(IQR = Q_3 - Q_1\)</span></li>
<li>Compute <span class="math inline">\(\text{limsup} = Q_3 + k \times IQR\)</span></li>
<li>Compute <span class="math inline">\(\text{liminf} = Q_1 - k \times IQR\)</span></li>
<li>If <span class="math inline">\(uv &gt; \text{limsup} \mid uv &lt; \text{liminf}\)</span>, then <span class="math inline">\(uv\)</span> is a outlier.</li>
</ol>
<div class="rmdnote">
<p>
The IQR is a measure of variability, based on dividing a data set into quartiles. Quartiles divide a rank-ordered data set into four equal parts. The values that separate parts are called the first, second, and third quartiles; and they are denoted by Q1, Q2, and Q3, respectively.
</p>
</div>
<div id="example" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Example</h3>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(k = 5\)</span></li>
<li>Compute the percentiles:
<ul>
<li><span class="math inline">\(Q_1 = 1.167\)</span></li>
<li><span class="math inline">\(Q_3 = 1.788\)</span></li>
</ul></li>
<li><span class="math inline">\(IQR = Q_3 - Q_1 = 0.621\)</span></li>
<li><span class="math inline">\(\text{limsup} = 4.893\)</span></li>
<li><span class="math inline">\(\text{liminf} = -1.938\)</span></li>
</ol>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-5"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-5-1.svg" alt="Figure 3: Boxplot exemplifying the outlier detection." width="576" />
<p class="caption">
Figure 4.1: Figure 3: Boxplot exemplifying the outlier detection.
</p>
</div>
</div>
</div>
<div id="median-absolute-deviation-mad" class="section level2">
<h2><span class="header-section-number">4.2</span> Median Absolute Deviation (MAD)</h2>
<p>There are many methods for outlier detection, for instance, model-based, quantiles methods, and deviation from average. However, in this task, we are manipulating the massive amount of heterogeneous data grouped in country and commodity class. Therefore, a general and straightforward method can be an excellent choice to perform outlier detection. Given this scenario, the Median Absolute Deviation (MAD) was adopted and applied for each commodity per year. The main idea of this strategy is to find outliers that are away from its median when compared in the same commodity.</p>
<p><span class="math display">\[
z = \frac{|uv_i - median(uv_i)|}{MAD} \\
MAD = median(|uv_i - median(uv_i)|)
\]</span></p>
<p>The steps are as follow:</p>
<ol style="list-style-type: decimal">
<li>Compute <span class="math inline">\(z\)</span> as shown in the equation above.</li>
<li>Compute <span class="math inline">\(\text{limsup} = median(z) + k \times 1.4826 \times MAD\)</span></li>
<li>Compute <span class="math inline">\(\text{liminf} = median(z) - k \times 1.4826 \times MAD\)</span></li>
<li>If <span class="math inline">\(z &gt; \text{limsup} \mid z &lt; \text{liminf}\)</span>, then <span class="math inline">\(uv\)</span> is a outlier.</li>
</ol>
<div id="example-1" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Example</h3>
<ol style="list-style-type: decimal">
<li>Compute <span class="math inline">\(z\)</span> as shown in the equation above.</li>
<li>Compute <span class="math inline">\(\text{limsup} = 1.22 + 5 \times 1.4826 \times 0.25 = 3.07\)</span></li>
<li>Compute <span class="math inline">\(\text{liminf} = 1.22 - 5 \times 1.4826 \times 0.25 = -0.63\)</span></li>
<li>If <span class="math inline">\(z &gt; \text{limsup} \mid z &lt; \text{liminf}\)</span>, then <span class="math inline">\(uv\)</span> is a outlier.</li>
</ol>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-6"></span>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-6-1.svg" alt="Figure 4: Outliers detected by the MAD method.." width="864" />
<p class="caption">
Figure 4.2: Figure 4: Outliers detected by the MAD method..
</p>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="correction-of-main-outlier.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
